<!DOCTYPE html> <html>
<head> 

  <title>PCAP Data Analysis</title> 
  <script src="https://www.google.com/jsapi"></script> 
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script> 
  <script src="jquery.csv-0.71.js"></script> 
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">

      var summary_file = "summary.csv";

      google.charts.load('current', {'packages':['table']});
      google.charts.setOnLoadCallback(drawTable);

      function drawTable() { 
        $.get(summary_file, function(csvString) { 
          var arrayData = $.csv.toArrays(csvString, {onParseValue: $.csv.hooks.castToScalar}); 
          var data = new google.visualization.arrayToDataTable(arrayData);

          var view = new google.visualization.DataView(data);
          view.setColumns([1,2,3,4,5,6,7,8,9,10]);
          // visualizationPlot.draw(view, options);
        
          var table = new google.visualization.Table(document.getElementById('table_div'));
          table.draw(view, {showRowNumber: true, width: '100%', height: '80%'});




          google.visualization.events.addListener(table, 'select', selectHandler);
          function selectHandler(e) {
              var selection = table.getSelection();
              var link = '';
              for (var i = 0; i < selection.length; i++) {
                var item = selection[i];
                
                if (item.row != null && item.column != null) {
                  var link = data.getFormattedValue(item.row, item.column);
                } else if (item.row != null) {
                  var link = data.getFormattedValue(item.row, 0);
                } else if (item.column != null) {
                  var link = data.getFormattedValue(0, item.column);
                }
              }
              if (link == '') {
                link = 'nothing';
              }
              url='http://130.89.14.205:8000/'+link;
              window.open(url, '_blank');
          }
        });
      }
    </script>
  </head>

  <body>
    <div id="table_div"></div>
  </body>
</html>


    